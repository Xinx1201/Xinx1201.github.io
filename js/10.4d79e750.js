"use strict";(self["webpackChunkjx3_tool"]=self["webpackChunkjx3_tool"]||[]).push([[10],{9010:function(e,t,s){s.r(t),s.d(t,{default:function(){return r}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex-row flex-center"},[t("el-card",{attrs:{shadow:"hover"}},[t("div",{staticClass:"flex-column flex-ai-stretch",attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"flex-row"},[t("el-input",{attrs:{clearable:"",placeholder:"请输入websocket"},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}}),t("el-button",{staticClass:"btn",on:{click:e.cleanLog}},[e._v("清空记录")]),t("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:e.initWebSocket}},[e._v("连接websocket")])],1),e.flag?t("div",{staticClass:"flex-row mgt10"},[t("el-input",{attrs:{autosize:"",maxlength:"999","show-word-limit":"",type:"textarea",placeholder:"发送内容"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}}),t("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:e.websocketsend}},[e._v("发送信息")])],1):e._e()]),t("div",{staticClass:"chat"},e._l(e.msg,(function(s,o){return t("div",{key:o},[e._v(" "+e._s(s)+" ")])})),0)])],1)},n=[],i=(s(7658),{name:"Test",data(){return{url:"",text:"",flag:!1,msg:[]}},mounted(){},methods:{initWebSocket(){"WebSocket"in window?(window.websock=new WebSocket(this.url),this.msg.push(`开始连接${this.url}`),window.websock.onopen=this.websocketonopen,window.websock.onerror=this.websocketonerror,window.websock.onsend=this.websocketsend,window.websock.onmessage=this.websocketonmessage,window.websock.onclose=this.websocketclose):console.log("当前浏览器 Not support websocket")},websocketonopen(){this.flag=!0,this.msg.push("WebSocket连接成功"),""!==this.text&&this.websocketsend()},websocketonerror(e){this.flag=!1,this.msg.push("WebSocket连接发生错误❌")},websocketonmessage(e){e&&this.msg.push("接收到信息📧"+e.data)},websocketsend(){this.msg.push("发送信息✈️"+this.text),window.websock.send(JSON.stringify(this.text))},websocketclose(e){this.flag=!1,this.msg.push("连接关闭❌"),this.initWebSocket()},cleanLog(){this.msg=[]}}}),c=i,l=s(1001),a=(0,l.Z)(c,o,n,!1,null,"7d00545f",null),r=a.exports}}]);